@page "/"
<PageTitle>RateMyManagement</PageTitle>
<div class="d-flex flex-column align-items-center position-relative">
    <RadzenText TextStyle="TextStyle.H2" TextAlign="TextAlign.Center">Rate My Management</RadzenText>
    <CompanySearch></CompanySearch>
    <RadzenText TextStyle="TextStyle.Body2" Style="margin-top:15px;">Enter a company name to get started</RadzenText>
    <div class="alph-search">
        <Paginiation MetaData="_pagingMetaData" SelectedPage="@OnPageSelected"></Paginiation>
    </div>
    @if (_loading)
    {
        <RadzenCard Style="width: 15em; margin-top: 10px;">
            <RadzenProgressBar Value="100" ShowValue="false" Mode="ProgressBarMode.Indeterminate"/>
        </RadzenCard>
    }
    @foreach (var companyDto in _currentPageCompanies)
    {
        <RadzenCard Style="width: 95%; margin-top: 15px; display: flex;">
            <div class="company-details">
                <div class="company-details-left">
                    <img class="circle" src="@companyDto.LogoUrl"/>
                    <h3 align="center">@companyDto.Name</h3>
                    <h5 align="center">@companyDto.Industry</h5>
                    <h5 align="center"><span class="dissapear-on-small-screen">Rating</span> @companyDto.Rating.ToString("0.00")</h5>
                    <a class="appear-small-screen" href="@($" /company/{companyDto.Id}")">More details</a>
                </div>
                <div class="dissapear-on-small-screen">
                    <p>@companyDto.Description</p>
                    <a href="@($" /company/{companyDto.Id}")">More details</a>
                </div>
            </div>
        </RadzenCard>
    }
    <AdminDiv>
        <div class="position-fixed bottom-right">
            <RadzenButton Style="Background:red;" Size="ButtonSize.Small" Click="PopulateSite">Populate companies and locations</RadzenButton>
        </div>
    </AdminDiv>
</div>